document.addEventListener('DOMContentLoaded', function() { const statusElement = document.querySelector('#github-status'); const usernameInput = document.querySelector('#github-username'); const lookupButton = document.querySelector('#lookup-button'); const userInfoCard = document.querySelector('#user-info'); const nameElement = document.querySelector('#github-name'); const createdAtElement = document.querySelector('#github-created-at'); const accountAgeElement = document.querySelector('#github-account-age'); const localStorageKey = 'github-user-gituser001'; function calculateAccountAge(createdAt) { const createdDate = new Date(createdAt); const now = new Date(); const ageInYears = now.getFullYear() - createdDate.getFullYear(); return ageInYears; } function updateUI(data) { nameElement.textContent = data.name || 'N/A'; createdAtElement.textContent = new Date(data.created_at).toLocaleDateString(); const accountAge = calculateAccountAge(data.created_at); accountAgeElement.textContent = `${accountAge} years`; userInfoCard.classList.remove('d-none'); } function fetchGitHubUser(username) { statusElement.textContent = 'Looking up...'; fetch(`https://api.github.com/users/${username}`).then(response => response.json()).then(data => { if (data.message === 'Not Found') { statusElement.textContent = 'User not found.'; userInfoCard.classList.add('d-none'); } else { updateUI(data); localStorage.setItem(localStorageKey, JSON.stringify(data)); statusElement.textContent = 'User found.'; } }).catch(error => { statusElement.textContent = 'Error fetching data.'; console.error(error); }); } lookupButton.addEventListener('click', function() { const username = usernameInput.value.trim(); if (username) { fetchGitHubUser(username); } else { statusElement.textContent = 'Please enter a username.'; } }); const cachedData = localStorage.getItem(localStorageKey); if (cachedData) { const data = JSON.parse(cachedData); updateUI(data); } });